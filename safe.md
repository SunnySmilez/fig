互联网项目安全
=======================

安全编码
-----------------------
安全编码定义了一套可以集成到开发生命周期中的通用软件安全编码规范。采用这些规范将减少最为常见的安全漏洞，也可以作为在代码review时安全**checklist**名单

#### 输入验证
认为所有客户端传输的数据皆不可信，验证所有来自客户端的数据,包括:
* 所有请求参数
* URL
* HTTP 头信息(比如:cookie 名字和数据值)

验证正确的数据类型，数据范围，数据长度，数据格式

尽可能采用**白名单**和**正则表达**形式，验证所有的输入

丢弃任何没有通过输入验证的数据，不允许在程序里直接使用$_GET$_POST等获取外部数据

**不建议**只使用转义，使用转义必须有其他控制手段，转义函数可以参考htmlentities，htmlspecialchars

如果任何潜在的危险字符必须被作为输入，请确保您执行了额外的控制，比如:输入转义、输出编码、特定的安全 API、以及在应用程序中使用的原因。部分常见的危险字符包括:< > " ' % ( ) & + \ \' \" 。

#### 访问控制
除了那些特定设为“公开”的内容以外,对所有的网页和资源要求身份验证。

对资源获取的时候都需要判断是不是该用户能操作和获取的。避免越权和全面遍历。

对操作和浏览尽量小的权限，提升权限的时候需要进一步验证。

#### 数据保护
对隐私和主要机密信息，在存储设备上应该做加密处理，用来验证的信息使用散列函数求值存储（比如密码），用来获取的信息使用对称加密算法AES处理（比如手机号）

为防范对随机数据的猜测攻击,应当使用加密模块中已验证的随机数生成器生成所有的随机 数、随机文件名、随机 GUID 和随机字符串

不要在客户端上以明文形式或其他非加密安全模式保存密码、连接字符串或其他敏感信息。 这包括嵌入在不安全的形式中:MS viewstate、Adobe flash 或者已编译的代码。

对数据采用一定的措施降低泄露后威胁程度，比如：给身份证图片添加无法擦除水印

包含敏感信息的数据传输的采用TLS

当链接到外部站点时,过滤来自 HTTP referer 中包含敏感信息的参数（比如sessionid）


系统安全
------------------------

传输安全
------------------------
